# 정규화

데이터의 중복을 제거해 `데이터 무결성을 유지`하는 것, 속성 간의 종속성으로 인한 `이상현상`을 테이블을 분해해 해결하고 테이블의 속성들이 상호 종속적인 관계를 갖는 특성을 이용하여 테이블을 `무손실 분해` 하는 과정
  * 이상현상 (Anomaly): 테이블 내의 데이터가 중복되어 테이블을 조작할 때 발생하는 데이터 불일치
  * 무손실 분해: 하나의 릴레이션을 분해하고 다시 조인연산을 했을 때 데이터 손실이 없는 것, 분해된 테이블이 표현하는 정보는 분해되기 전의 정보를 모두 포함

**목적**
* 데이터 중복 최소화, 불필요한 데이터 최소화
* 무결성 유지, 이상 현상 방지
* 테이블의 구성을 논리적/직관적으로 수정
  
**종류**

제 1 정규화 (1NF)

* 테이블 컬럼이 원자 값을 갖도록 분해
* 모든 필드가 원자 값으로만 되어 있어야 함
  
제 2 정규화 (2NF)

* 테이블의 모든 컬럼이 완전 함수 종속을 만족하도록 분해
* 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속
* 기본키를 구성하는 속성 중 일부에 종속되지 않음
* 테이블에서 기본키가 복합키(키1, 키2)로 묶여있을 때, 두 키 중 하나의 키만으로 다른 컬럼을 결정지을 수 있으면 안됨
* 기본키의 부분집합이 결정자가 되면 안됨


함수적 종속
* X -> Y: X = 결정자, Y = 종속자 (Y는 X에 함수적 종속, X/Y는 속성의 부분집합)
* X의 값을 알면 Y를 식별할 수 있고, X의 값에 Y의 값이 달라짐

제 3 정규화 (3NF)

* 기본키가 아닌 모든 컬럼이 기본키에 비이행적 종속(직접 종속)하도록 분해
* 기본키가 아닌 컬럼이 다른 컬럼을 결정할 수 없음


이행적 함수 종속

* X, Y, Z 속성에 대해 X->Y 이고 Y->Z 이면 X->Z

BCNF (Boyce and Codd Normal Form)

* 모든 결정자가 후보키가 되도록 분해
* 함수 종속성 X->Y일 때, 모든 결정자 X가 후보키
* 일반 튜플이 후보키를 결정지으면 안됨

<br/>

### 반정규화 (비정규화)
#
정규화된 엔티티, 속성, 관계를 시스템의 성능 향상 및 개발과 운영의 단순화를 위해 중복 통합, 분리 등을 수행하는 데이터 모델링 기법 중 하나
일반적으로 조회에 대한 처리 성능이 중요하다고 판단될 때 부분적으로 반정규화를 고려하게 된다.

**목적**
* 정규화에 충실하여 종속성, 활용성은 향상 되었지만 수행속도가 느려지는 것을 막음
* 조회 속도를 향상시키지만, 데이터 모델의 유연성은 낮아짐

**주의사항**
* 반정규화를 과도하게 적용하다 보면 데이터의 무결성이 깨질 수 있다. 
* 입력, 수정, 삭제의 질의문에 대한 응답 시간이 늦어질 수 있다.
  
<br/>

> 무엇이 반정규화의 대상이 되는가?
> * 자주 사용되는 테이블에 액세스하는 프로세스의 수가 가장 많고, 항상 일정한 범위만을 조회하는 경우
> * 테이블에 대량 데이터가 있고 대량의 범위를 자주 처리하는 경우, 성능 상 이슈가 있을 경우
> * 테이블에 지나치게 조인을 많이 사용하게 되어 데이터를 조회하는 것이 기술적으로 어려울 경우


<br/>



